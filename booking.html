<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Book Bayt Lili</title>
  <meta name="description" content="Book Bayt Lili for filming, photoshoots, or stays. Submit your request or message us on WhatsApp.">
  <link rel="icon" type="image/png" href="assets/favicon.png"/>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Ranade:wght@600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --text:#fff; --muted:#eaeaea;
      --line: rgba(255,255,255,.30);
      --card: rgba(255,255,255,.10);
      --btn-border: rgba(255,255,255,.7);
      --price-bg:#fff; --price-text:#1b1b1b; --price-border:rgba(0,0,0,.08);
      --control-h: 44px;
      --header-h: 56px;
      --stay-photo-w: 320px;
      --stay-photo-h: 568px;
      --reviews-scale: 0.72;
    }

    @font-face{
      font-family:'BaytLili';
      src: url('assets/BaytLili.ttf') format('truetype'),
           url('assets/BaytLili.otf') format('opentype');
      font-display:swap;
    }

    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--text);
      font-family:'Playfair Display', serif; line-height:1.5;
      background:#000; scroll-behavior:smooth;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    body::before{
      content:""; position:fixed; inset:0;
      background:url('assets/lightbg.png') center 35%/cover no-repeat fixed; z-index:-2;
    }
    body::after{
      content:""; position:fixed; inset:0;
      background:rgba(0,0,0,.28); z-index:-1;
    }

    /* Containers */
    .container{width:min(900px,92vw); margin:0 auto; padding:clamp(24px,5vw,48px) 0}

    /* === HEADER (exactly homepage) === */
    header{
      position:sticky; top:0; z-index:50;
      background:#000000f0; border-bottom:1px solid rgba(255,255,255,0.2);
      min-height:var(--header-h); backdrop-filter:saturate(1.1) blur(6px);
    }
    header .container{width:min(1200px,92vw);}  /* identical to homepage width */
    .nav{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:8px 0}
    .brand{
      display:flex;align-items:center;gap:10px;color:#fff;
      font-family:'BaytLili','Playfair Display',serif;
      letter-spacing:.12em;font-variant:small-caps;white-space:nowrap;
      text-decoration:none;
    }
    .brand img{height:34px}
    .menu{display:flex;align-items:center;gap:20px}
    .menu a{
      color:#fff;text-decoration:none;white-space:nowrap;
      font-weight:700; position:relative; padding:6px 2px;
      font-family:'Playfair Display', serif;
    }
    .menu a::after{content:""; position:absolute; left:0; right:0; bottom:-4px; height:1px; background:transparent; transition:background .2s ease}
    .menu a:hover::after{background:rgba(255,255,255,.7)}
    .hamburger{display:none;border:1px solid rgba(255,255,255,.35);height:34px;width:36px;border-radius:8px;padding:6px;flex-direction:column;gap:4px;justify-content:center;align-items:center;background:transparent;}
    .hamburger span{width:18px;height:2px;background:#fff;border-radius:1px}
    .mobile-menu{display:none;position:absolute;top:calc(var(--header-h));right:12px;width:min(35vw,300px);background:#000000f2;border:1px solid rgba(255,255,255,.2);border-radius:10px;overflow:hidden}
    .mobile-menu a{display:block;padding:12px 14px;color:#fff;border-bottom:1px solid rgba(255,255,255,.08);font-weight:700;}
    .mobile-menu a:last-child{border-bottom:none}
    @media (max-width:900px){.menu{display:none}.hamburger{display:flex}}

    /* Page text */
    h1{
      font-family:'Ranade','Plus Jakarta Sans',sans-serif!important;
      margin:18px 0 8px; font-size:clamp(26px,4.4vw,40px);
      scroll-margin-top: calc(var(--header-h) + 12px);
    }
    p.lede{color:var(--muted); margin:0 0 18px; font-family:'Plus Jakarta Sans',sans-serif}

    .card{
      background:var(--card); border:1px solid var(--line);
      border-radius:16px; padding:18px;
    }

    /* Buttons */
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:.5em;
      padding:.75em 1.1em; border-radius:999px; border:1px solid var(--btn-border);
      background:#fff; color:#111; font-weight:700; letter-spacing:.02em;
      cursor:pointer; text-decoration:none; font-family:'Playfair Display', serif;
      height:var(--control-h); font-size:16px; min-width: 180px;
    }
    .btn:hover{opacity:.92}

    /* Form */
    form{display:grid; grid-template-columns:1fr 1fr; gap:14px}
    .full{grid-column:1 / -1}
    label{font-size:.95rem; opacity:.95; display:block; font-family:'Plus Jakarta Sans',sans-serif}
    input, select, textarea{
      width:100%; padding:12px 12px; margin-top:6px;
      border-radius:10px; border:1px solid var(--line);
      background:rgba(255,255,255,.92); color:#111; font-size:16px;
      font-family:'Plus Jakarta Sans', sans-serif;
      height:var(--control-h);
    }
    textarea{min-height:120px; height:auto; resize:vertical}
    input[type="date"]{-webkit-appearance:none; appearance:none;}
    .day{display:grid; grid-template-columns: 1.2fr .9fr .9fr auto; gap:10px; align-items:end; margin-top:6px;}
    .day .rem{
      background:transparent; color:#fff; border:1px solid var(--line); border-radius:10px; padding:.65em .8em; cursor:pointer;
      font-family:'Plus Jakarta Sans', sans-serif; height:var(--control-h);
    }
    .add-more{margin-top:6px}
    .add-more button{
      background:transparent; color:#fff; border:1px solid var(--line);
      border-radius:999px; padding:.6em 1em; cursor:pointer; font-weight:600;
      font-family:'Plus Jakarta Sans', sans-serif; height:var(--control-h);
    }
    .price-card{
      grid-column:1/-1; background:var(--price-bg); color:var(--price-text);
      border:1px solid var(--price-border); border-radius:14px;
      padding:14px 16px; margin-top:6px; font-family:'Plus Jakarta Sans',sans-serif;
    }
    .actions{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}

    /* Gate */
    .gate{
      position:fixed; inset:0; z-index:100; display:flex; align-items:center; justify-content:center;
      background:#000;
    }
    .gate-card{
      width:min(720px,92vw); background:rgba(255,255,255,.08);
      border:1px solid var(--line); border-radius:18px; padding:20px; text-align:center;
      font-family:'Plus Jakarta Sans',sans-serif;
    }
    .gate h2{margin:0 0 10px; font-family:'BaytLili','Playfair Display',serif}
    .gate-options{display:grid; grid-template-columns:1fr 1fr; gap:12px}
    .gate-btn{
      padding:18px 16px; border-radius:14px; border:1px solid var(--line);
      background:transparent; color:#fff; cursor:pointer; font-weight:700;
      letter-spacing:.02em; font-family:'Playfair Display', serif; font-size:18px;
    }
    .gate-btn:hover{opacity:.92}
    @media (max-width:700px){ .gate-options{grid-template-columns:1fr} }
    .hidden{ display:none !important; }

    /* Success view */
    .success-card{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:18px;text-align:center;}
    .success-card .msg{color:limegreen;font-weight:700;font-family:'Plus Jakarta Sans',sans-serif;font-size:clamp(18px,2.6vw,22px);margin-bottom:16px;}
    .success-card .buttons{display:flex;justify-content:center;gap:10px;flex-wrap:wrap;}

    /* Stay Section */
    .stay-actions{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:26px;}
    @media (max-width:640px){.stay-actions{flex-direction:column}.stay-actions .btn{width:100%}}
    .stay-grid{display:block;}
    .stay-photo img{width:100%;border-radius:16px;border:1px solid rgba(255,255,255,.15);background:rgba(255,255,255,.06);display:block;}
    .reviews{margin-top:22px}
    .rev-vert{display:flex;flex-direction:column;gap:10px;overflow-y:auto;max-height:360px;}
    .rev-vert img{width:100%;border-radius:12px;display:block;}
    @media (min-width:1100px){
      .stay-grid{display:grid;grid-template-columns: var(--stay-photo-w) 1fr;gap:36px;align-items:start;}
      .stay-photo img{width:var(--stay-photo-w);height:var(--stay-photo-h);aspect-ratio:9/16;object-fit:cover;}
      .rev-vert{height:var(--stay-photo-h);max-height:none;}
    }
  </style>
</head>

<body>
  <!-- HEADER -->
  <header>
    <div class="container nav">
      <a class="brand" href="index.html"><img src="assets/bllogo.png" alt="Bayt Lili"/> BAYT LILI</a>
      <button class="hamburger" aria-label="Menu"><span></span><span></span><span></span></button>
      <nav class="menu">
        <a href="index.html">Home</a>
        <a href="booking.html" aria-current="page">Booking</a>
        <a href="gallery.html">Gallery</a>
        <a href="rates.html">Rates</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
    <nav id="mobileMenu" class="mobile-menu"></nav>
  </header>

  <!-- Gate -->
  <div class="gate" id="gate">
    <div class="gate-card">
      <h2>What are you looking for?</h2>
      <div class="gate-options">
        <button class="gate-btn" data-choice="Filming">Filming / Photoshoot</button>
        <button class="gate-btn" data-choice="Stay">Stay</button>
      </div>
    </div>
  </div>

  <!-- Main -->
  <div class="container hidden" id="main">
    <h1>Booking Request</h1>
    <p class="lede" id="lede">Tell us about your booking. We reply the same day.</p>

    <!-- Filming -->
    <div class="card" id="filmingCard" style="display:none">
      <form id="booking-form">
        <div><label>Full name *<input id="name" name="name" required></label></div>
        <div><label>Company / Brand *<input id="company" name="company"></label></div>
        <div><label>Email *<input id="email" name="email" type="email" required></label></div>
        <div><label>Phone *<input id="phone" name="phone" required></label></div>
        <input type="hidden" id="purpose" name="purpose">
        <div id="daysWrap" class="full"></div>
        <div class="add-more"><button type="button" id="addDayBtn">+ Add another day</button></div>
        <div id="priceCard" class="price-card" style="display:none">
          <div id="priceSummary" style="font-weight:700">Estimated Total: AED 0</div>
          <small id="priceNotes">Rate: AED <span id="rateVal">300</span>/hr. <span id="minNote">Min: 6 hrs are billable</span>. Refundable deposit: AED 5,000.</small>
        </div>
        <div class="actions full"><button type="submit" class="btn" id="request-booking">Request Booking</button><a class="btn" id="whatsappDirect" href="#" target="_blank">WhatsApp Us</a></div>
        <p id="form-status"></p>
      </form>
    </div>

    <!-- Stay -->
    <div class="card" id="stayCard" style="display:none">
      <p class="lede">For stays, please check seasonal rates and book directly on Airbnb or message us on WhatsApp.</p>
      <div class="stay-actions">
        <a class="btn" id="whatsappStay" href="#" target="_blank">WhatsApp Us</a>
        <a class="btn" id="airbnbBtn" href="https://www.airbnb.com/rooms/1010972686934184319" target="_blank">View on Airbnb</a>
      </div>
      <div class="stay-grid">
        <div class="stay-photo"><img src="assets/airbnb.png" alt="Airbnb"></div>
        <section class="reviews">
          <div class="rev-vert"><img src="assets/review1.png"><img src="assets/review2.png"><img src="assets/review3.png"><img src="assets/review4.png"><img src="assets/review5.png"></div>
        </section>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    const WHATSAPP_NUMBER='971501589628';
    const INSTAGRAM_URL='https://instagram.com/baytlili';
    const SHEETS_ENDPOINT='https://script.google.com/macros/s/AKfycbw3ovdG31xmwUmpintksLOGuenjDF4tO-ZbqJbihQweSswhWxj6643z2-L-nFl7FMEG/exec';
    const RATE_PER_HOUR=300;const MIN_HOURS_PER_DAY=6;const AED=new Intl.NumberFormat('en-US',{maximumFractionDigits:0});

    // mobile menu identical to homepage
    (function(){
      const btn=document.querySelector('.hamburger'),mobile=document.getElementById('mobileMenu'),desktop=document.querySelector('.menu');
      function closeM(){mobile.style.display='none';}function openM(){mobile.style.display='block';}
      if(btn&&mobile&&desktop){mobile.innerHTML=desktop.innerHTML;
        btn.addEventListener('click',e=>{e.stopPropagation();mobile.style.display==='block'?closeM():openM();});
        document.addEventListener('click',e=>{if(!e.target.closest('header'))closeM();});
        window.addEventListener('resize',()=>{if(window.innerWidth>900)closeM();});
      }
    })();

    const gate=document.getElementById('gate'),main=document.getElementById('main'),filmingCard=document.getElementById('filmingCard'),stayCard=document.getElementById('stayCard'),form=document.getElementById('booking-form'),statusEl=document.getElementById('form-status'),daysWrap=document.getElementById('daysWrap');

    document.querySelectorAll('.gate-btn').forEach(btn=>btn.addEventListener('click',()=>startWithChoice(btn.dataset.choice)));

    function buildTimeOptions(minMinutesExclusive=-1,selectedVal=''){const opts=['<option value="" disabled>Select time</option>'];for(let m=0;m<1440;m+=15){if(m<=minMinutesExclusive)continue;const hh=String(Math.floor(m/60)).padStart(2,'0');const mm=String(m%60).padStart(2,'0');const label=`${hh}:${mm}`;opts.push(`<option value="${label}"${label===selectedVal?' selected':''}>${label}</option>`);}return opts.join('');}
    function parseTime(t){if(!t)return null;const[h,m]=t.split(':').map(Number);return h*60+(m||0);}
    function computeHours(f,t){const a=parseTime(f),b=parseTime(t);if(a==null||b==null)return 0;let d=(b-a)/60;if(d<0)return 0;return Math.max(0,d);}

    function makeDayRow(){const r=document.createElement('div');r.className='day';r.innerHTML=`<label>Date <input type="date" name="day_date"></label><label>From <select name="day_from" required></select></label><label>To <select name="day_to" required></select></label><button type="button" class="rem">Remove</button>`;const f=r.querySelector('[name=day_from]'),t=r.querySelector('[name=day_to]');f.innerHTML=buildTimeOptions(-1);t.innerHTML=buildTimeOptions(-1);
      f.addEventListener('change',()=>{const min=parseTime(f.value);t.innerHTML=buildTimeOptions(min,'');updatePrice();});
      t.addEventListener('change',updatePrice);
      r.querySelector('[name=day_date]').addEventListener('change',updatePrice);
      r.querySelector('.rem').addEventListener('click',()=>{r.remove();updatePrice();});
      return r;}
    document.getElementById('addDayBtn').addEventListener('click',()=>{daysWrap.appendChild(makeDayRow());updatePrice();});
    function ensureAtLeastOneDay(){if(!daysWrap.children.length)daysWrap.appendChild(makeDayRow());}
    function updatePrice(){let total=0,hours=0;[...daysWrap.children].forEach(r=>{const f=r.querySelector('[name=day_from]').value,t=r.querySelector('[name=day_to]').value;const h=computeHours(f,t);if(h>0)hours+=h;total+=Math.max(h,MIN_HOURS_PER_DAY)*RATE_PER_HOUR;});document.getElementById('priceCard').style.display=daysWrap.children.length?'':'none';document.getElementById('priceSummary').textContent=`Estimated Total: AED ${AED.format(Math.round(total))}`;}

    function startWithChoice(c){document.getElementById('purpose').value=c;main.classList.remove('hidden');gate.style.display='none';if(c==='Filming'){filmingCard.style.display='';stayCard.style.display='none';ensureAtLeastOneDay();updatePrice();}else{filmingCard.style.display='none';stayCard.style.display='';}}
    document.getElementById('whatsappStay').addEventListener('click',e=>{e.preventDefault();window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent('Hello Bayt Lili — I’m interested in a stay.')}`,'_blank');});
  </script>
</body>
</html>
