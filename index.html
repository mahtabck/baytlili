<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bayt Lili — Boutique Villa in Dubai for Filming & Stays</title>
  <meta name="description" content="Bayt Lili is a private boutique villa in Dubai designed for filming, photoshoots, and intimate stays. Warm Mediterranean minimalism, easy access, non-gated.">
  <meta name="robots" content="index,follow">
  <link rel="icon" type="image/png" href="assets/favicon.png" />
  <link rel="apple-touch-icon" href="assets/favicon.png" />

  <!-- Social -->
  <meta property="og:title" content="Bayt Lili — Boutique Villa in Dubai for Filming & Stays">
  <meta property="og:description" content="Warm neutral tones, Mediterranean minimalism, easy access. Book Bayt Lili for your next shoot or stay.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://baytlili.com/">
  <meta property="og:image" content="/assets/og-cover.jpg">
  <meta name="twitter:card" content="summary_large_image">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --text:#ffffff;
      --muted:#ededed;
      --line: rgba(255,255,255,.42);
      --panel-bg: rgba(11,11,11,.58);
      --panel-stroke: rgba(255,255,255,.14);
      --header-h: 56px;
      --btn-border: rgba(255,255,255,.7);
      --control-h: 38px;          /* unified control/button height */
      --radius: 10px;
      --warm-white: #f8f3ec;
      --cta-w: 1200px;
      --rate: 300;
      --min-hours: 6;
    }

    @font-face{
      font-family:'BaytLili';
      src: url('assets/BaytLili.ttf') format('truetype'),
           url('assets/BaytLili.otf') format('opentype');
      font-display:swap;
    }

    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--text);
      line-height:1.45; font-family:'Playfair Display', serif;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      scroll-behavior:smooth;
    }

    /* Background */
    body::before{
      content:""; position:fixed; inset:0;
      background:url('assets/bgpic.png') center 30%/cover no-repeat fixed; z-index:-2;
    }
    body::after{
      content:""; position:fixed; inset:0;
      background:rgba(0,0,0,0.24); z-index:-1; pointer-events:none;
    }

    .container{width:min(1200px,92vw);margin-inline:auto}
    .pad{padding:clamp(24px,4.5vw,64px) 0}

    /* Header */
    header{
      position:sticky; top:0; z-index:50;
      background:#000000f0; border-bottom:1px solid rgba(255,255,255,0.2);
      min-height:var(--header-h); backdrop-filter:saturate(1.1) blur(6px);
    }
    .nav{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:8px 0}
    .brand{
      display:flex;align-items:center;gap:10px;color:#fff;
      font-family:'BaytLili','Playfair Display',serif;
      letter-spacing:.12em;font-variant:small-caps;white-space:nowrap;text-decoration:none;
    }
    .brand img{height:34px}

    .menu{display:flex;align-items:center;gap:20px}
    .menu a{
      color:#fff;text-decoration:none;white-space:nowrap; position:relative; padding:6px 2px;
      font-family:'Playfair Display',serif; font-weight:700; font-size:1rem; letter-spacing:.02em;
    }
    .menu a::after{content:""; position:absolute; left:0; right:0; bottom:-4px; height:1px; background:transparent; transition:background .2s ease}
    .menu a:hover::after{background:rgba(255,255,255,.7)}

    /* Hamburger (mobile) */
    .hamburger{display:none; background:transparent; border:1px solid rgba(255,255,255,.35);
      height:30px; width:34px; border-radius:8px; align-items:center; justify-content:center; gap:4px; padding:0;}
    .hamburger span{ display:block; width:18px; height:2px; background:#fff; border-radius:1px }
    .mobile-menu{
      display:none; position:absolute; top:calc(var(--header-h)); right:12px;
      width:min(35vw, 300px); background:#000000f2; border:1px solid rgba(255,255,255,.2); border-radius:10px; overflow:hidden
    }
    .mobile-menu a{ display:block; padding:12px 14px; color:#fff; text-decoration:none; border-bottom:1px solid rgba(255,255,255,.08);
      font-family:'Playfair Display',serif; font-weight:700; font-size:1rem; letter-spacing:.02em; }
    .mobile-menu a:last-child{ border-bottom:none }

    /* HERO */
    .hero{ min-height:calc(100vh - var(--header-h)); display:flex; align-items:center; justify-content:center; padding:0; }
    .hero .text{ display:flex; flex-direction:column; gap:12px; text-align:center; align-items:center; margin:0 auto; max-width:980px;}
    .hero-title{
      margin:0; color:#fff; font-family:'BaytLili','Playfair Display',serif; font-weight:700;
      text-shadow:0 3px 10px rgba(0,0,0,.35); font-size:clamp(40px,5.6vw,92px); line-height:1.02; letter-spacing:.08em;
    }
    .eyebrow-wrap{ width:min(var(--cta-w), 100%); margin-inline:auto; }
    .eyebrow{
      color:var(--warm-white); letter-spacing:.18em; text-transform:uppercase;
      font-weight:800; font-size:clamp(15px,1.8vw,25px); text-shadow:0 4px 10px rgba(0,0,0,.65);
    }

    /* ===== QUICK BOOKING ===== */
    .cta{
      margin-top:8px; width:min(var(--cta-w), 100%);
      background:var(--panel-bg); border:1px solid var(--panel-stroke); border-radius:14px; padding:12px; overflow:hidden;
    }

    .cta-grid{
      display:grid; gap:10px; align-items:end;
      grid-template-columns: repeat(6, minmax(0, 1fr));
    }

    .cta label{
      display:flex; flex-direction:column; align-items:stretch;
      font-family:'Playfair Display',serif;
      font-size:.95rem; letter-spacing:.01em; opacity:.98; text-align:left; min-width:0; font-weight:700;
      white-space:nowrap;
    }

    .control{
      display:block;
      width:100%; max-width:100%;
      height:var(--control-h);
      padding:0 12px;
      margin-top:6px;
      border-radius:var(--radius); border:1px solid var(--panel-stroke);
      background:rgba(255,255,255,.98); color:#111; font-size:15px;
      font-family:'Plus Jakarta Sans',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
      line-height:calc(var(--control-h) - 2px);
    }

    .control[type="date"]{
      -webkit-appearance:none; appearance:none;
    }
    .control[type="date"]::-webkit-datetime-edit{ padding:0; line-height:1; }
    .control[type="date"]::-webkit-date-and-time-value{ text-align:left; }

    /* --- Safari date vertical centering fix --- */
    @supports (-webkit-touch-callout: none) {
      .control[type="date"]{ padding-top:2px; padding-bottom:0; }
      .control[type="date"]::-webkit-datetime-edit{ position:relative; top:0.5px; }
    }
    @supports (-webkit-appearance:none) and (not (-ms-ime-align:auto)) {
      .control[type="date"]{ padding-top:1px; }
    }

    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:.5em;
      font-weight:700; letter-spacing:.02em; text-decoration:none;
      border:1px solid var(--btn-border); background:transparent; color:#fff;
      height:var(--control-h); padding:0 12px; border-radius:var(--radius); font-size:14px;
      font-family:'Playfair Display',serif; white-space:nowrap;
    }
    .btn.secondary{border-color:rgba(255,255,255,.45)}
    .btn:hover{opacity:.92}

    @media (max-width:1280px){
      .cta-grid{
        grid-template-columns: 1fr 1fr;
        gap:12px;
      }
      .cta label{ white-space:normal; }
      #qbQuote{ grid-column: 1 / 2; }
      #qbBook { grid-column: 2 / 3; }
      .btn{ font-size:15px; }
    }

    /* Floating WhatsApp (official glyph) */
    .wa-float{
      position:fixed; right:16px; bottom:16px; width:56px; height:56px; border-radius:50%;
      background:#25D366; display:flex; align-items:center; justify-content:center;
      box-shadow:0 6px 18px rgba(0,0,0,.28); z-index:60;
    }
    .wa-float svg{ width:28px; height:28px; display:block; fill:#fff }

    /* Sections */
    section+section{border-top:1px solid rgba(255,255,255,.18)}
    h2{ font-family:'BaytLili','Playfair Display',serif; font-size:clamp(24px,3.5vw,36px); margin:0 0 12px; scroll-margin-top: calc(var(--header-h) + 12px); }
    p{margin:0 0 12px; color:#ededed}

    /* ===== Features (restyled: no boxes) ===== */
    .panel{ background:var(--panel-bg); border:1px solid var(--panel-stroke); border-radius:18px; }
    .panel-head{display:flex;align-items:center;justify-content:space-between;gap:10px;font-weight:700;color:#fff;font-size:1.02rem}
    .panel hr{border:0;border-top:1px solid var(--panel-stroke);margin:8px 0}

    .feature-grid{
      display:grid; gap:10px 16px;
      grid-template-columns:repeat(auto-fit, minmax(240px, 1fr));
      align-items:center;
    }
    .feature-item{
      display:flex; align-items:center; gap:10px; color:#fff; padding:8px 0;
      /* removed border/background so they don't look like buttons */
    }
    .icon{ width:22px; height:22px; display:inline-flex; align-items:center; justify-content:center; opacity:.95 }
    .icon svg{ width:22px; height:22px; stroke:currentColor; }
    .label{font-weight:700; letter-spacing:.01em; font-family:'Plus Jakarta Sans',system-ui,sans-serif}

    /* Gallery */
    .gallery-row{display:flex; gap:12px; justify-content:space-between}
    .card.small{ flex:0 0 31%; border:1px solid rgba(255,255,255,.30); border-radius:14px; overflow:hidden; background:rgba(255,255,255,.10); backdrop-filter:blur(3px); aspect-ratio: 4 / 5; display:flex }
    .card.small img{ width:100%; height:100%; object-fit:cover; object-position:center; display:block }

    /* Logos */
    .logos{display:grid; grid-template-columns:repeat(5,1fr); gap:12px}
    .logo{ border:1px solid rgba(255,255,255,.30); border-radius:14px; background:rgba(255,255,255,.10); min-height:90px; display:flex; align-items:center; justify-content:center; padding:14px; backdrop-filter:blur(3px) }
    .logo img{max-height:42px; width:auto}

    footer{ border-top:1px solid rgba(255,255,255,.25); padding:24px 0; color:#e9e9e9; background:rgba(0,0,0,.18); text-align:center }
  </style>
</head>

<body>
  <header>
    <div class="container nav">
      <a href="index.html" class="brand" aria-label="Bayt Lili — Home">
        <img src="assets/bllogo.png" alt="Bayt Lili logo" />
        BAYT LILI
      </a>

      <button class="hamburger" aria-label="Open menu" aria-expanded="false" aria-controls="mobileMenu">
        <span></span><span></span><span></span>
      </button>

      <nav class="menu" aria-label="Primary">
        <a href="index.html">Home</a>
        <a href="booking.html">Booking</a>
        <a href="#gallery">Gallery</a>
        <a href="rates.html">Rates</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
    <nav id="mobileMenu" class="mobile-menu" aria-label="Mobile"></nav>
  </header>

  <main class="container hero" id="home">
    <div class="text">
      <h1 class="hero-title">BAYT LILI</h1>
      <div class="eyebrow-wrap"><div class="eyebrow">BOUTIQUE VILLA • FILMING • PHOTOSHOOTS • STAYS</div></div>

      <div class="cta">
        <div class="cta-grid">
          <label>Phone Number
            <input type="tel" id="qbPhone" class="control" placeholder="971XXXXXXXXX" inputmode="numeric" pattern="^971\\d{9}$" />
          </label>
          <label>Date
            <input type="date" id="qbDate" class="control">
          </label>
          <label>From
            <select id="qbFrom" class="control"></select>
          </label>
          <label>To
            <select id="qbTo" class="control"></select>
          </label>
          <a id="qbQuote" class="btn" href="#">Get Instant Quote</a>
          <a id="qbBook" class="btn secondary" href="#">Request to Book</a>
        </div>
      </div>
    </div>
  </main>

  <!-- Floating WhatsApp -->
  <a class="wa-float" href="https://wa.me/971501589628" target="_blank" rel="noopener" aria-label="Chat on WhatsApp">
    <svg viewBox="0 0 24 24" aria-hidden="true" role="img" focusable="false" preserveAspectRatio="xMidYMid meet">
      <path d="M20.52 3.484A11.815 11.815 0 0 0 11.98 0C5.364 0 .007 5.356 0 11.972c-.003 2.109.551 4.17 1.6 5.98L.001 24l6.217-1.631a11.94 11.94 0 0 0 5.752 1.466h.005c6.613 0 11.97-5.356 11.976-11.972a11.868 11.868 0 0 0-3.431-8.379ZM11.975 22.1h-.004a10.07 10.07 0 0 1-5.142-1.412l-.369-.219-3.823 1.003 1.022-3.734-.24-.382a10.074 10.074 0 0 1-1.54-5.353C1.883 6.3 6.317 1.87 11.978 1.87a10.07 10.07 0 0 1 7.134 2.96 10.05 10.05 0 0 1 2.95 7.137c-.004 5.661-4.438 10.095-10.087 10.095Zm5.497-7.718c-.297-.149-1.758-.867-2.029-.967-.273-.101-.471-.149-.669.149-.198.297-.767.967-.941 1.165-.173.198-.347.223-.644.074-1.758-.867-2.91-1.544-4.086-3.5-.308-.53.308-.492.882-1.64.098-.198.049-.371-.025-.52-.074-.149-.669-1.612-.916-2.206-.242-.579-.487-.5-.669-.51-.173-.01-.371-.012-.57-.012-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479s1.065 2.876 1.213 3.074c.149.198 2.096 3.2 5.077 4.487.71.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347Z"/>
    </svg>
  </a>

  <!-- Features -->
  <section id="about" class="pad">
    <div class="container">
      <div class="panel" style="padding:14px">
        <div class="panel-head">Features</div>
        <hr>
        <div class="feature-grid">
          <div class="feature-item">
            <span class="icon" aria-hidden="true">
              <!-- Menu/Access icon -->
              <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 6h18M3 12h18M3 18h18"/>
              </svg>
            </span>
            <span class="label">Non-gated access</span>
          </div>

          <div class="feature-item">
            <span class="icon" aria-hidden="true">
              <!-- No permit / plus-circle -->
              <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="9"/><path d="M12 8v8M8 12h8"/>
              </svg>
            </span>
            <span class="label">No permits required</span>
          </div>

          <div class="feature-item">
            <span class="icon" aria-hidden="true">
              <!-- House/booking -->
              <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 10.5 12 3l9 7.5"/><path d="M5 10v10h14V10"/><path d="M9 20v-6h6v6"/>
              </svg>
            </span>
            <span class="label">Exclusive booking</span>
          </div>

          <div class="feature-item">
            <span class="icon" aria-hidden="true">
              <!-- Front yard / home -->
              <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 12l9-8 9 8"/><path d="M9 21V10h6v11"/>
              </svg>
            </span>
            <span class="label">Front yard</span>
          </div>

          <div class="feature-item">
            <span class="icon" aria-hidden="true">
              <!-- Back yard / tree -->
              <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 22v-4"/>
                <path d="M7 14c-1.657 0-3-1.343-3-3 0-1.243.756-2.309 1.84-2.758A4 4 0 0 1 12 5a4 4 0 0 1 6.16 3.242C19.245 8.69 20 9.756 20 11c0 1.657-1.343 3-3 3H7z"/>
              </svg>
            </span>
            <span class="label">Back yard</span>
          </div>

          <div class="feature-item">
            <span class="icon" aria-hidden="true">
              <!-- Kitchen island -->
              <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <rect x="4" y="8" width="16" height="10" rx="2"/>
                <path d="M8 8v-2a2 2 0 0 1 2-2h4"/>
                <path d="M8 13h8"/>
              </svg>
            </span>
            <span class="label">Chef’s kitchen island</span>
          </div>

          <div class="feature-item">
            <span class="icon" aria-hidden="true">
              <!-- Dipping pool / ladder + waves -->
              <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <!-- ladder -->
                <path d="M8 5v10M14 5v10"/>
                <path d="M6 7h10M6 11h10M6 15h10"/>
                <!-- waves -->
                <path d="M3 19c1 .8 2 .8 3 0s2-.8 3 0 2 .8 3 0 2-.8 3 0 2 .8 3 0"/>
              </svg>
            </span>
            <span class="label">Dipping pool</span>
          </div>

          <div class="feature-item">
            <span class="icon" aria-hidden="true">
              <!-- Flexibility / triangle -->
              <svg viewBox="0 0 24 24" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 3l8 16H4L12 3z"/>
              </svg>
            </span>
            <span class="label">Design flexibility</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Gallery -->
  <section id="gallery" class="pad">
    <div class="container">
      <h2>Gallery</h2>
      <div class="gallery-row" style="margin-top:10px">
        <div class="card small"><img src="assets/gallery/1.jpg" alt="Garden and pool view"></div>
        <div class="card small"><img src="assets/gallery/2.jpg" alt="Kitchen island"></div>
        <div class="card small"><img src="assets/gallery/3.jpg" alt="Living area"></div>
      </div>
    </div>
  </section>

  <!-- Previous Work -->
  <section id="previous" class="pad">
    <div class="container">
      <h2>Previous Work</h2>
      <p>Selected brands and productions that have shot at Bayt Lili.</p>
      <div class="logos" style="margin-top:10px">
        <div class="logo"><img src="assets/logos/brand1.svg" alt="Brand 1"></div>
        <div class="logo"><img src="assets/logos/brand2.svg" alt="Brand 2"></div>
        <div class="logo"><img src="assets/logos/brand3.svg" alt="Brand 3"></div>
        <div class="logo"><img src="assets/logos/brand4.svg" alt="Brand 4"></div>
        <div class="logo"><img src="assets/logos/brand5.svg" alt="Brand 5"></div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="pad">
    <div class="container">
      <div class="panel" style="padding:14px">
        <div class="panel-head">Contact</div>
        <hr>
        <p>Email: <a href="mailto:info@baytlili.com">info@baytlili.com</a> · Instagram: <a href="https://instagram.com/baytlili" target="_blank" rel="noopener">@baytlili</a></p>
      </div>
    </div>
  </section>

  <footer>
    © <span id="y"></span> Bayt Lili. All rights reserved. · <a href="https://instagram.com/baytlili" target="_blank" rel="noopener">@baytlili</a>
  </footer>

  <!-- Quote Modal -->
  <div id="quoteModal" class="modal-backdrop" role="dialog" aria-modal="true" aria-labelledby="quoteTitle">
    <div class="modal">
      <h3 id="quoteTitle">Instant Quote</h3>
      <div id="quoteBody"></div>
      <p class="muted" id="minNote" style="display:none;">
        <span class="badge">Note</span> A minimum booking of <strong>6 hours</strong> applies. The total reflects this minimum.
      </p>
      <div class="modal-actions">
        <button id="quoteClose" class="btn">Close</button>
        <a id="quoteProceed" class="btn primary" href="#">Proceed to Booking</a>
      </div>
    </div>
  </div>

  <script>
    // Touch flag for iOS background handling
    (function(){ var isTouch = (('ontouchstart' in window) || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0);
      if(isTouch){ document.documentElement.classList.add('is-touch'); } })();

    // Year
    document.getElementById('y').textContent = new Date().getFullYear();

    // Mobile menu
    (function(){
      const btn = document.querySelector('.hamburger');
      const mobile = document.getElementById('mobileMenu');
      const desktop = document.querySelector('.menu');
      function closeMenu(){ if(mobile.style.display==='block'){ mobile.style.display='none'; btn.setAttribute('aria-expanded','false'); } }
      function openMenu(){ mobile.style.display='block'; btn.setAttribute('aria-expanded','true'); }
      if(btn && mobile && desktop){
        mobile.innerHTML = desktop.innerHTML;
        btn.addEventListener('click', (e)=>{ e.stopPropagation(); (mobile.style.display==='block') ? closeMenu() : openMenu(); });
        mobile.addEventListener('click', (e)=>{ if(e.target.tagName==='A') closeMenu(); });
        document.addEventListener('click', (e)=>{ if(!e.target.closest('header') && !e.target.closest('#mobileMenu')) closeMenu(); });
        document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeMenu(); });
        window.addEventListener('resize', ()=>{ if(window.innerWidth>900) closeMenu(); });
      }
    })();

    // Times (start 06:00)
    const selFrom = document.getElementById('qbFrom');
    const selTo   = document.getElementById('qbTo');
    function optionList(startMin, endMin, selected){ const out=['<option value="">Select</option>']; for(let m=startMin;m<=endMin;m+=15){const hh=String(Math.floor(m/60)).padStart(2,'0'); const mm=String(m%60).padStart(2,'0'); const val=`${hh}:${mm}`; out.push(`<option value="${val}"${val===selected?' selected':''}>${val}</option>`);} return out.join(''); }
    function minutes(v){ const [h,m]=v.split(':').map(Number); return h*60+m; }
    if(selFrom && selTo){
      selFrom.innerHTML = optionList(6*60, 24*60, '');
      selTo.innerHTML   = optionList(6*60+15, 24*60, '');
      selFrom.addEventListener('change', ()=>{
        const f = selFrom.value ? minutes(selFrom.value) : 6*60;
        const start = Math.min(f+15, 24*60);
        const prev = selTo.value;
        selTo.innerHTML = optionList(start, 24*60, '');
        if(prev){ const p=minutes(prev); if(p>=start && p<=24*60) selTo.value=prev; }
      });
    }

    // Min date = today (optional)
    (function(){ const d=new Date(), pad=n=>String(n).padStart(2,'0'); const min=`${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`; const el=document.getElementById('qbDate'); if(el) el.setAttribute('min',min); })();

    // Collect params (date optional)
    function collectQBParams(requireDate=false){
      const phoneEl=document.getElementById('qbPhone');
      const d=document.getElementById('qbDate').value||'';
      const f=document.getElementById('qbFrom').value||'';
      const t=document.getElementById('qbTo').value||'';
      const phone=(phoneEl.value||'').trim();
      const phoneOk=/^971\d{9}$/.test(phone);
      if(!phoneOk || !f || !t || (requireDate && !d)){
        let msg=[]; if(!phoneOk) msg.push('valid phone number (971XXXXXXXXX)'); if(!f) msg.push('"From" time'); if(!t) msg.push('"To" time'); if(requireDate && !d) msg.push('Date');
        alert('Please enter: '+msg.join(', ')+(requireDate?'.':'. Date is optional.')); return null;
      }
      const fMin=minutes(f), tMin=minutes(t); if(tMin<=fMin){ alert('"To" time must be after "From" time.'); return null; }
      const params={ phone, from:f, to:t }; if(d) params.date=d; return params;
    }

    // Quote modal utilities
    const modal=document.getElementById('quoteModal'), quoteBody=document.getElementById('quoteBody'),
          quoteClose=document.getElementById('quoteClose'), quoteProceed=document.getElementById('quoteProceed'),
          minNote=document.getElementById('minNote');
    function openModal(){ modal.style.display='flex'; } function closeModal(){ modal.style.display='none'; }
    modal.addEventListener('click', (e)=>{ if(e.target===modal) closeModal(); }); quoteClose.addEventListener('click', closeModal);
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeModal(); });
    function cssNumber(name, fallback){ const v=parseFloat(getComputedStyle(document.documentElement).getPropertyValue(name)); return isNaN(v)?fallback:v; }
    function hours(mins){ return Math.round((mins/60)*4)/4; }
    function label(h){ return (Math.round(h*100)/100).toString().replace(/\.00?$/,'')+' hr'+(h===1?'':'s'); }
    function AED(n){ return new Intl.NumberFormat('en-AE',{style:'currency',currency:'AED',maximumFractionDigits:2}).format(n); }

    // Get Instant Quote
    document.getElementById('qbQuote').addEventListener('click',(e)=>{
      e.preventDefault();
      const params=collectQBParams(false); if(!params) return;
      const rate=cssNumber('--rate',300), minHours=cssNumber('--min-hours',6);
      const f=minutes(params.from), t=minutes(params.to);
      const selected=hours(t-f); const billable=Math.max(selected,minHours); const total=billable*rate;
      quoteBody.innerHTML=`
        <div class="row"><span>Phone</span><span>${params.phone}</span></div>
        ${params.date?`<div class="row"><span>Date</span><span>${params.date}</span></div>`:''}
        <div class="row"><span>From</span><span>${params.from}</span></div>
        <div class="row"><span>To</span><span>${params.to}</span></div>
        <div class="row"><span>Selected Hours</span><span>${label(selected)}</span></div>
        <div class="row"><span>Billable Hours</span><span>${label(billable)}</span></div>
        <div class="row total"><span>Total (@ AED ${rate}/hr)</span><span>${AED(total)}</span></div>`;
      minNote.style.display = selected < minHours ? 'block' : 'none';
      const qs=new URLSearchParams(params); quoteProceed.href=`booking.html?${qs.toString()}`; openModal();
    });

    // Request to Book
    document.getElementById('qbBook').addEventListener('click',(e)=>{
      e.preventDefault(); const params=collectQBParams(false); if(!params) return;
      params.action='request'; const qs=new URLSearchParams(params); window.location.href=`booking.html?${qs.toString()}`;
    });
  </script>
</body>
</html>
