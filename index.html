<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bayt Lili — Boutique Villa in Dubai for Filming & Stays</title>
  <meta name="description" content="Bayt Lili is a private boutique villa in Dubai designed for filming, photoshoots, and intimate stays. Warm Mediterranean minimalism, easy access, non-gated.">
  <meta name="robots" content="index,follow">
  <link rel="icon" type="image/png" href="assets/favicon.png" />
  <link rel="apple-touch-icon" href="assets/favicon.png" />

  <!-- Social -->
  <meta property="og:title" content="Bayt Lili — Boutique Villa in Dubai for Filming & Stays">
  <meta property="og:description" content="Warm neutral tones, Mediterranean minimalism, easy access. Book Bayt Lili for your next shoot or stay.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://baytlili.com/">
  <meta property="og:image" content="/assets/og-cover.jpg">
  <meta name="twitter:card" content="summary_large_image">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --text:#ffffff;
      --muted:#ededed;
      --line: rgba(255,255,255,.42);
      --panel-stroke: rgba(255,255,255,.14);
      --header-h: 56px;
      --btn-border: rgba(255,255,255,.7);
      --control-h: 38px;
      --radius: 10px;
      --cta-w: 1200px;
      --rate: 300;
      --min-hours: 6;
    }

    @font-face{
      font-family:'BaytLili';
      src: url('assets/BaytLili.ttf') format('truetype'),
           url('assets/BaytLili.otf') format('opentype');
      font-display:swap;
    }

    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--text);
      line-height:1.45; font-family:'Playfair Display', serif;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      scroll-behavior:smooth; background:#000;
    }

    /* Background */
    body::before{
      content:""; position:fixed; inset:0;
      background:url('assets/bgpic.png') center 30%/cover no-repeat fixed; z-index:-2;
    }
    body::after{
      content:""; position:fixed; inset:0;
      background:rgba(0,0,0,0.24); z-index:-1; pointer-events:none;
    }

    .container{width:min(1200px,92vw);margin-inline:auto}
    .pad{padding:clamp(24px,4.5vw,64px) 0}

    /* Header */
    header{
      position:sticky; top:0; z-index:50;
      background:#000000f0; border-bottom:1px solid rgba(255,255,255,0.2);
      min-height:var(--header-h); backdrop-filter:saturate(1.1) blur(6px);
    }
    .nav{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:8px 0}
    .brand{
      display:flex;align-items:center;gap:10px;color:#fff;
      font-family:'BaytLili','Playfair Display',serif;
      letter-spacing:.12em;font-variant:small-caps;white-space:nowrap;text-decoration:none;
    }
    .brand img{height:34px}

    .menu{display:flex;align-items:center;gap:20px}
    .menu a{
      color:#fff;text-decoration:none;white-space:nowrap; position:relative; padding:6px 2px;
      font-family:'Playfair Display',serif; font-weight:700; font-size:1rem; letter-spacing:.02em;
    }
    .menu a:hover::after{background:rgba(255,255,255,.7)}
    .menu a::after{content:""; position:absolute; left:0; right:0; bottom:-4px; height:1px; background:transparent; transition:background .2s ease}

    /* Hamburger (stacked vertical bars) */
    .hamburger{
      display:none; background:transparent; border:1px solid rgba(255,255,255,.35);
      height:34px; width:36px; border-radius:8px; align-items:center; justify-content:center; padding:6px;
      flex-direction:column; gap:4px;
    }
    .hamburger span{ display:block; width:18px; height:2px; background:#fff; border-radius:1px }
    .mobile-menu{
      display:none; position:absolute; top:calc(var(--header-h)); right:12px;
      width:min(35vw, 300px); background:#000000f2; border:1px solid rgba(255,255,255,.2); border-radius:10px; overflow:hidden
    }
    .mobile-menu a{ display:block; padding:12px 14px; color:#fff; text-decoration:none; border-bottom:1px solid rgba(255,255,255,.08);
      font-family:'Playfair Display',serif; font-weight:700; font-size:1rem; letter-spacing:.02em; }
    .mobile-menu a:last-child{ border-bottom:none }

    /* Show hamburger on ≤900px */
    @media (max-width:900px){
      .menu{ display:none; }
      .hamburger{ display:inline-flex; }
    }

    /* Hero */
    .hero{ min-height:calc(100vh - var(--header-h)); display:flex; align-items:center; justify-content:center; padding:0; }
    .hero .text{ display:flex; flex-direction:column; gap:12px; text-align:center; align-items:center; margin:0 auto; max-width:980px;}
    .hero-title{
      margin:0; color:#fff; font-family:'BaytLili','Playfair Display',serif; font-weight:700;
      text-shadow:0 3px 10px rgba(0,0,0,.35); font-size:clamp(40px,5.6vw,92px); line-height:1.02; letter-spacing:.08em;
    }
    .eyebrow-wrap{ width:min(var(--cta-w), 100%); margin-inline:auto; margin-bottom:14px; }

    /* CTA area */
    .cta{ width:min(var(--cta-w), 100%); }
    .cta-buttons{
      display:flex; align-items:center; justify-content:center; gap:10px;
      margin-top:10px;
      margin-bottom:56px; /* big gap to quote section */
    }
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:.5em;
      font-weight:700; letter-spacing:.02em; text-decoration:none;
      border:1px solid var(--btn-border); background:transparent; color:#fff;
      height:var(--control-h); padding:0 14px; border-radius:var(--radius); font-size:14px;
      font-family:'Playfair Display',serif; white-space:nowrap;
    }
    .btn.primary{ background:#fff; color:#111; border-color:#fff; }
    .btn.large{ height:64px; padding:0 38px; font-size:20px; border-radius:16px; letter-spacing:.02em; }
    .btn:hover{opacity:.92}

    /* ===== Quick Booking (centered, compact; labels on the LEFT) ===== */
    .cta-row{ display:flex; justify-content:center; }
    .mini-quote{ background:transparent; border:none; padding:0; text-align:left; margin:0 auto; }
    .mini-vert{
      display:grid; gap:12px;
      width:min(560px, 92vw);
      margin:0 auto;
    }
    .mini-row{
      display:grid;
      grid-template-columns: 1fr 2fr;  /* label | input */
      gap:12px; align-items:center;
    }
    .mini-lbl{
      font-family:'Playfair Display',serif; font-size:1.05rem; font-weight:700; letter-spacing:.01em; opacity:.98; white-space:nowrap;
    }
    .control{
      height:32px; padding:0 10px; font-size:14px; border-radius:8px;
      border:1px solid var(--panel-stroke); background:rgba(255,255,255,.98); color:#111;
      line-height:30px; font-family:'Plus Jakarta Sans',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
      width:100%;
    }
    .btn-quote{
      height:38px; padding:0 14px; font-size:14px; border-radius:10px;
      text-align:center; width:100%;
      border:1px solid #fff; color:#111; background:#fff; /* white with black text */
      font-family:'Playfair Display',serif; font-weight:700;
    }

    /* WhatsApp FAB */
    .wa-float{
      position:fixed; right:16px; bottom:16px; width:56px; height:56px; border-radius:50%;
      background:#25D366; display:flex; align-items:center; justify-content:center;
      box-shadow:0 6px 18px rgba(0,0,0,.28); z-index:60;
    }
    .wa-float svg{ width:28px; height:28px; display:block; fill:#fff }

    /* Sections */
    section+section{border-top:1px solid rgba(255,255,255,.18)}
    h2{ font-family:'BaytLili','Playfair Display',serif; font-size:clamp(24px,3.5vw,36px); margin:0 0 12px; text-align:center; scroll-margin-top: calc(var(--header-h) + 12px); }
    p{margin:0 0 12px; color:#ededed}

    /* Features (left-aligned items) */
    .features-wrap{ padding:0; }
    .feature-grid{
      display:grid; gap:12px 18px;
      grid-template-columns:repeat(auto-fit, minmax(240px, 1fr));
      justify-content:center; justify-items:stretch; align-items:center; text-align:left;
    }
    .feature-item{ display:flex; align-items:center; justify-content:flex-start; gap:12px; color:#fff; padding:6px 0; }
    .icon{ width:22px; height:22px; display:inline-flex; align-items:center; justify-content:center; opacity:.95 }
    .icon svg{ width:22px; height:22px; stroke:currentColor; fill:none; }
    .label{font-weight:700; letter-spacing:.01em; font-family:'Plus Jakarta Sans',system-ui,sans-serif}

    /* Gallery */
    .gallery-grid{
      display:grid; gap:12px; grid-template-columns: repeat(4, 1fr); justify-items:stretch;
    }
    @media (max-width:900px){ .gallery-grid{ grid-template-columns: repeat(2, 1fr); } }
    @media (max-width:560px){ .gallery-grid{ grid-template-columns: 1fr; } }
    .card.small{
      border:1px solid rgba(255,255,255,.30); border-radius:14px; overflow:hidden;
      background:rgba(255,255,255,.10); backdrop-filter:blur(3px); aspect-ratio: 4 / 5; display:flex;
    }
    .card.small img{ width:100%; height:100%; object-fit:cover; object-position:center; display:block }

    /* Previous Work */
    .logos{
      display:grid; grid-template-columns:repeat(5, minmax(0, 1fr)); gap:12px; justify-items:center; align-items:center;
    }
    .logo{
      border:1px solid rgba(255,255,255,.30); border-radius:14px; background:rgba(255,255,255,.10);
      min-height:90px; display:flex; align-items:center; justify-content:center; padding:14px; backdrop-filter:blur(3px); width:100%;
    }
    .logo img{max-height:42px; width:auto}
    @media (max-width:900px){ .logos{ grid-template-columns:repeat(3,1fr); } }
    @media (max-width:560px){ .logos{ grid-template-columns:repeat(2,1fr); } }

    footer{ border-top:1px solid rgba(255,255,255,.25); padding:24px 0; color:#e9e9e9; background:rgba(0,0,0,.18); text-align:center }

    /* Mobile/touch background fix */
    .is-touch body::before{
      background-position:center top !important;
      background-size:cover !important;
      background-repeat:no-repeat !important;
      background-attachment:scroll !important;
    }
    @media (max-width:900px){
      body::before{ background-attachment:scroll; background-position:center top; background-size:cover; }
    }

    /* Modal (Instant Quote) */
    .modal-backdrop{
      display:none; position:fixed; inset:0; z-index:80;
      background:rgba(0,0,0,.55); align-items:center; justify-content:center; padding:16px;
    }
    .modal{
      width:min(560px, 92vw); background:#101010; color:#fff; border:1px solid rgba(255,255,255,.22);
      border-radius:14px; padding:16px; box-shadow:0 12px 40px rgba(0,0,0,.45);
      font-family:'Plus Jakarta Sans',system-ui,sans-serif;
    }
    .modal h3{ margin:0 0 10px; font-family:'BaytLili','Playfair Display',serif; }
    #quoteBody .row{ display:flex; justify-content:space-between; gap:12px; padding:6px 0; border-bottom:1px dashed rgba(255,255,255,.15); }
    #quoteBody .row.total{ font-weight:800; border-bottom:none; padding-top:10px; }
    .badge{ display:inline-block; padding:2px 8px; border:1px solid rgba(255,255,255,.25); border-radius:999px; font-size:.8rem; margin-right:6px;}
    .muted{ color:#cfcfcf }
    .modal-actions{ display:flex; gap:10px; justify-content:flex-end; margin-top:12px; }
    .btn.primary{ background:#fff; color:#111; border-color:#fff; }
  </style>
</head>

<body>
  <header>
    <div class="container nav">
      <a href="index.html" class="brand" aria-label="Bayt Lili — Home">
        <img src="assets/bllogo.png" alt="Bayt Lili logo" />
        BAYT LILI
      </a>

      <button class="hamburger" aria-label="Open menu" aria-expanded="false" aria-controls="mobileMenu">
        <span></span><span></span><span></span>
      </button>

      <nav class="menu" aria-label="Primary">
        <a href="index.html">Home</a>
        <a href="booking.html">Booking</a>
        <a href="#gallery">Gallery</a>
        <a href="rates.html">Rates</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
    <nav id="mobileMenu" class="mobile-menu" aria-label="Mobile"></nav>
  </header>

  <main class="container hero" id="home">
    <div class="text">
      <h1 class="hero-title">BAYT LILI</h1>
      <div class="eyebrow-wrap"><div class="eyebrow">BOUTIQUE VILLA • FILMING • PHOTOSHOOTS • STAYS</div></div>

      <div class="cta">
        <!-- Big Book Now -->
        <div class="cta-buttons">
          <a href="booking.html" class="btn primary large">Book Now</a>
        </div>

        <!-- Quick Booking (labels left of inputs) -->
        <div class="cta-row">
          <div class="mini-quote">
            <div class="mini-vert">
              <div class="mini-row">
                <label for="qbPhone" class="mini-lbl">Phone Number</label>
                <input type="tel" id="qbPhone" class="control" placeholder="971XXXXXXXXX" inputmode="numeric" pattern="^971\d{9}$" />
              </div>
              <div class="mini-row">
                <label for="qbHours" class="mini-lbl">Number of Hours</label>
                <input type="number" id="qbHours" class="control" placeholder="e.g., 8" inputmode="decimal" min="1" step="0.5" />
              </div>
              <a id="qbQuote" class="btn-quote" href="#">Get Instant Quote for Filming/Photoshoot</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Floating WhatsApp -->
  <a class="wa-float" href="https://wa.me/971501589628" target="_blank" rel="noopener" aria-label="Chat on WhatsApp">
    <svg viewBox="0 0 24 24" aria-hidden="true" role="img" focusable="false" preserveAspectRatio="xMidYMid meet">
      <path d="M20.52 3.484A11.815 11.815 0 0 0 11.98 0C5.364 0 .007 5.356 0 11.972c-.003 2.109.551 4.17 1.6 5.98L.001 24l6.217-1.631a11.94 11.94 0 0 0 5.752 1.466h.005c6.613 0 11.97-5.356 11.976-11.972a11.868 11.868 0 0 0-3.431-8.379ZM11.975 22.1h-.004a10.07 10.07 0 0 1-5.142-1.412l-.369-.219-3.823 1.003 1.022-3.734-.24-.382a10.074 10.074 0 0 1-1.54-5.353C1.883 6.3 6.317 1.87 11.978 1.87a10.07 10.07 0 0 1 7.134 2.96 10.05 10.05 0 0 1 2.95 7.137c-.004 5.661-4.438 10.095-10.087 10.095Zm5.497-7.718c-.297-.149-1.758-.867-2.029-.967-.273-.101-.471-.149-.669.149-.198.297-.767.967-.941 1.165-.173.198-.347.223-.644.074-1.758-.867-2.91-1.544-4.086-3.5-.308-.53.308-.492.882-1.64.098-.198.49-.371-.025-.52-.074-.149-.669-1.612-.916-2.206-.242-.579-.487-.5-.669-.51-.173-.01-.371-.012-.57-.012-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479s1.065 2.876 1.213 3.074c.149.198 2.096 3.2 5.077 4.487.71.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347Z"/>
    </svg>
  </a>

  <!-- Features -->
  <section id="about" class="pad">
    <div class="container">
      <div class="features-wrap">
        <h2>Features</h2>
        <div class="feature-grid">
          <div class="feature-item">
            <span class="icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="3" width="5" height="18" rx="1"/><path d="M8 5l8-2v18l-8-2z"/>
                <circle cx="14.5" cy="12" r="0.8" fill="currentColor" stroke="none"/>
              </svg>
            </span>
            <span class="label">Non-gated access</span>
          </div>

          <div class="feature-item">
            <span class="icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="9"/><path d="M8 12l3 3 5-6"/>
              </svg>
            </span>
            <span class="label">No permits required</span>
          </div>

          <div class="feature-item">
            <span class="icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 10.5 12 3l9 7.5"/><path d="M5 10v10h14V10"/><path d="M9 20v-6h6v6"/>
              </svg>
            </span>
            <span class="label">Exclusive booking</span>
          </div>

          <div class="feature-item">
            <span class="icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M8 5v10M14 5v10M6 7h10M6 11h10M6 15h10"/>
                <path d="M3 19c1 .8 2 .8 3 0s2-.8 3 0 2 .8 3 0 2-.8 3 0"/>
              </svg>
            </span>
            <span class="label">Dipping pool</span>
          </div>

          <div class="feature-item">
            <span class="icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 12c4-6 10-8 18-8 0 8-2 14-8 18-6-2-8-6-10-10z"/><path d="M3 12c6 0 10 4 10 10"/>
              </svg>
            </span>
            <span class="label">Front yard</span>
          </div>

          <div class="feature-item">
            <span class="icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 22v-4"/><path d="M7 14c-1.657 0-3-1.343-3-3 0-1.243.756-2.309 1.84-2.758A4 4 0 0 1 12 5a4 4 0 0 1 6.16 3.242C19.245 8.69 20 9.756 20 11c0 1.657-1.343 3-3 3H7z"/>
              </svg>
            </span>
            <span class="label">Back yard</span>
          </div>

          <div class="feature-item">
            <span class="icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M4 10h16v6a4 4 0 0 1-4 4H8a4 4 0 0 1-4-4v-6z"/><path d="M2 10h20"/><path d="M7 6h10"/><path d="M9 6l1.5-2h3L15 6"/>
              </svg>
            </span>
            <span class="label">Chef’s kitchen island</span>
          </div>

          <div class="feature-item">
            <span class="icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 3l8 16H4L12 3z"/>
              </svg>
            </span>
            <span class="label">Design flexibility</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Gallery -->
  <section id="gallery" class="pad">
    <div class="container">
      <h2>Gallery</h2>
      <div class="gallery-grid" style="margin-top:10px">
        <div class="card small"><img src="assets/3.png" alt="Bayt Lili — image 3" loading="lazy"></div>
        <div class="card small"><img src="assets/4.png" alt="Bayt Lili — image 4" loading="lazy"></div>
        <div class="card small"><img src="assets/5.png" alt="Bayt Lili — image 5" loading="lazy"></div>
        <div class="card small"><img src="assets/1.png" alt="Bayt Lili — image 1" loading="lazy"></div>
      </div>
    </div>
  </section>

  <!-- Previous Work -->
  <section id="previous" class="pad">
    <div class="container">
      <h2>Previous Work</h2>
      <p style="text-align:center">Selected brands and productions that have shot at Bayt Lili.</p>
      <div class="logos" style="margin-top:10px">
        <div class="logo"><img src="assets/logos/brand1.svg" alt="Brand 1"></div>
        <div class="logo"><img src="assets/logos/brand2.svg" alt="Brand 2"></div>
        <div class="logo"><img src="assets/logos/brand3.svg" alt="Brand 3"></div>
        <div class="logo"><img src="assets/logos/brand4.svg" alt="Brand 4"></div>
        <div class="logo"><img src="assets/logos/brand5.svg" alt="Brand 5"></div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="pad">
    <div class="container">
      <p style="text-align:center">Email: <a href="mailto:info@baytlili.com">info@baytlili.com</a> · Instagram: <a href="https://instagram.com/baytlili" target="_blank" rel="noopener">@baytlili</a></p>
    </div>
  </section>

  <footer>
    © <span id="y"></span> Bayt Lili. All rights reserved. · <a href="https://instagram.com/baytlili" target="_blank" rel="noopener">@baytlili</a>
  </footer>

  <!-- Quote Modal -->
  <div id="quoteModal" class="modal-backdrop" role="dialog" aria-modal="true" aria-labelledby="quoteTitle">
    <div class="modal">
      <h3 id="quoteTitle">Instant Quote</h3>
      <div id="quoteBody"></div>
      <p class="muted" id="minNote" style="margin:6px 0; display:none;">
        <span class="badge">Note</span> A minimum booking of <strong>6 hours</strong> applies. The total reflects this minimum.
      </p>
      <p class="muted" id="depositNote" style="margin:6px 0;">
        <span class="badge">Deposit</span> A refundable damage deposit of <strong>AED 5,000</strong> applies to filming/photoshoots.
      </p>
      <div class="modal-actions">
        <button id="quoteClose" class="btn">Close</button>
        <a id="quoteProceed" class="btn primary" href="#">Proceed to Booking</a>
      </div>
    </div>
  </div>

  <script>
    // Touch flag for iOS background handling
    (function(){
      var isTouch = (('ontouchstart' in window) || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0);
      if(isTouch){ document.documentElement.classList.add('is-touch'); }
    })();

    // Year
    document.getElementById('y').textContent = new Date().getFullYear();

    // Mobile/Narrow menu
    (function(){
      const btn = document.querySelector('.hamburger');
      const mobile = document.getElementById('mobileMenu');
      const desktop = document.querySelector('.menu');
      function closeMenu(){ if(mobile.style.display==='block'){ mobile.style.display='none'; btn.setAttribute('aria-expanded','false'); } }
      function openMenu(){ mobile.style.display='block'; btn.setAttribute('aria-expanded','true'); }
      if(btn && mobile && desktop){
        mobile.innerHTML = desktop.innerHTML;
        btn.addEventListener('click', (e)=>{ e.stopPropagation(); (mobile.style.display==='block') ? closeMenu() : openMenu(); });
        mobile.addEventListener('click', (e)=>{ if(e.target.tagName==='A') closeMenu(); });
        document.addEventListener('click', (e)=>{ if(!e.target.closest('header') && !e.target.closest('#mobileMenu')) closeMenu(); });
        document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeMenu(); });
        window.addEventListener('resize', ()=>{ if(window.innerWidth>900) closeMenu(); });
      }
    })();

    function cssNumber(name, fallback){ const v=parseFloat(getComputedStyle(document.documentElement).getPropertyValue(name)); return isNaN(v)?fallback:v; }
    function AED(n){ return new Intl.NumberFormat('en-AE',{style:'currency',currency:'AED',maximumFractionDigits:2}).format(n); }

    // Collect params (phone + hours) — accepts 971XXXXXXXXX or +971XXXXXXXXX
    function collectMiniParams(){
      const raw = (document.getElementById('qbPhone').value||'').trim();
      const digits = raw.replace(/\D/g,''); // strip non-digits
      const isValid = /^971\d{9}$/.test(digits);
      const hoursRaw = (document.getElementById('qbHours').value||'').trim();
      const hours = parseFloat(hoursRaw);

      if(!isValid || !hours || hours <= 0){
        let msg=[]; if(!isValid) msg.push('valid phone number (971XXXXXXXXX)'); if(!(hours>0)) msg.push('number of hours');
        alert('Please enter: '+msg.join(', ')+'.'); return null;
      }
      return { phone: digits, hours };
    }

    // Quote modal utilities
    const modal=document.getElementById('quoteModal'), quoteBody=document.getElementById('quoteBody'),
          quoteClose=document.getElementById('quoteClose'), quoteProceed=document.getElementById('quoteProceed'),
          minNote=document.getElementById('minNote');
    function openModal(){ modal.style.display='flex'; } function closeModal(){ modal.style.display='none'; }
    modal.addEventListener('click', (e)=>{ if(e.target===modal) closeModal(); }); quoteClose.addEventListener('click', closeModal);
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeModal(); });

    // Instant Quote
    document.getElementById('qbQuote').addEventListener('click',(e)=>{
      e.preventDefault();
      const p = collectMiniParams(); if(!p) return;
      const rate=cssNumber('--rate',300), minHours=cssNumber('--min-hours',6);
      const selected = Math.round(p.hours*4)/4;   // quarter-hour rounding
      const billable = Math.max(selected, minHours);
      const total    = billable * rate;

      quoteBody.innerHTML=`
        <div class="row"><span>Phone</span><span>${p.phone}</span></div>
        <div class="row"><span>Selected Hours</span><span>${selected} hr${selected===1?'':'s'}</span></div>
        <div class="row"><span>Billable Hours (min ${minHours})</span><span>${billable} hr${billable===1?'':'s'}</span></div>
        <div class="row total"><span>Total (@ AED ${rate}/hr)</span><span>${AED(total)}</span></div>`;
      minNote.style.display = selected < minHours ? 'block' : 'none';

      // Pass phone to booking page to prefill phone
      const qs = new URLSearchParams({ phone: p.phone });
      quoteProceed.href = `booking.html?${qs.toString()}`;
      openModal();
    });
  </script>
</body>
</html>
